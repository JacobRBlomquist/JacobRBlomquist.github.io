<span class="foreground-8">  1 </span><span class="foreground-12">package</span><span class="foreground-3"> Dancer::Handler::Standalone</span><span class="foreground-15">;                                           <span class="background-0">
</span></span><span class="foreground-8">  2 </span><span class="foreground-15">                                                                    </span>           <span class="background-0"><span class="foreground-15">
</span></span><span class="foreground-8">  3 </span><span class="foreground-12">use strict</span><span class="foreground-15">;                                                                    <span class="background-0">
</span></span><span class="foreground-8">  4 </span><span class="foreground-12">use warnings</span><span class="foreground-15">;                                                                  <span class="background-0">
</span></span><span class="foreground-8">  5 </span><span class="foreground-15">                                                                               <span class="background-0"> </span>
</span><span class="foreground-8">  6 </span><span class="foreground-12">use </span><span class="foreground-15">HTTP::Server::Simple::PSGI;                                                <span class="background-0"> </span>
</span><span class="foreground-8">  7 </span><span class="foreground-12">use base</span><span class="foreground-15"> </span><span class="foreground-10">&#x27;Dancer::Handler&#x27;</span><span class="foreground-15">, </span><span class="foreground-10">&#x27;HTTP::Server::Simple::PSGI&#x27;</span><span class="foreground-15">;                      <span class="background-0">
</span></span><span class="foreground-8">  8 </span><span class="foreground-15">                                                                               <span class="background-0"> </span>
</span><span class="foreground-8">  9 </span><span class="foreground-12">use </span><span class="foreground-15">Dancer::HTTP;                                         </span>                     <span class="background-0"><span class="foreground-15">
</span></span><span class="foreground-8"> 10 </span><span class="foreground-15">ome/maurice/fishsticks.pm[+] unix PERL </span><span class="foreground-9">9</span><span class="foreground-15">/</span><span class="foreground-9">22</span><span class="foreground-15">                                    <span class="background-0"> </span>
</span><span class="foreground-8"> 11 </span><span class="foreground-15">        </span><span class="foreground-13">$dancer-&gt;run</span><span class="foreground-15">();                                                        <span class="background-0">
</span></span><span class="foreground-8"> 12 </span><span class="foreground-15">    }                                                                          <span class="background-0"> </span>
</span><span class="foreground-8"> 13 </span><span class="foreground-15">}                                                                              <span class="background-0"> </span>
</span><span class="foreground-8"> 14 </span><span class="foreground-15">                                                                               <span class="background-0">
</span></span><span class="foreground-8"> 15 </span><span class="foreground-12">sub </span><span class="foreground-11">print_startup_info </span><span class="foreground-15">{                                             </span>          <span class="background-0"><span class="foreground-15">
</span></span><span class="foreground-8"> 16 </span><span class="foreground-15">    </span><span class="foreground-12">my</span><span class="foreground-15"> </span><span class="foreground-13">$pid</span><span class="foreground-15">    = </span><span class="foreground-12">shift</span><span class="foreground-15">;                                                        <span class="background-0"> </span>
</span><span class="foreground-8"> 17 </span><span class="foreground-15">    </span><span class="foreground-12">my</span><span class="foreground-15"> </span><span class="foreground-13">$ipaddr</span><span class="foreground-15"> = setting(</span><span class="foreground-10">&#x27;server&#x27;</span><span class="foreground-15">);                                            <span class="background-0"> </span>
</span><span class="foreground-8"> 18 </span><span class="foreground-15">    </span><span class="foreground-12">my</span><span class="foreground-15"> </span><span class="foreground-13">$port</span><span class="foreground-15">   = setting(</span><span class="foreground-10">&#x27;port&#x27;</span><span class="foreground-15">);                                              <span class="background-0"> </span>
</span><span class="foreground-8"> 19 </span><span class="foreground-15">                                                                               <span class="background-0">
</span></span><span class="foreground-8"> 20 </span><span class="foreground-15">    </span><span class="foreground-7"># we only print the info if we need to</span><span class="foreground-15">                                     <span class="background-0"> </span>
</span><span class="foreground-8"> 21 </span><span class="foreground-15">    setting(</span><span class="foreground-10">&#x27;startup_info&#x27;</span><span class="foreground-15">) </span><span class="foreground-14">or</span><span class="foreground-15"> </span><span class="foreground-12">return</span><span class="foreground-15">;                                         <span class="background-0"> </span>
</span><span class="foreground-8"> 22 </span><span class="foreground-15">                                                                               <span class="background-0"> </span>
</span><span class="foreground-8"> 23 </span><span class="foreground-15">    </span><span class="foreground-7"># bare minimum</span><span class="foreground-15">                                                             <span class="background-0"> </span>
</span><span class="foreground-8"> 24 </span><span class="foreground-15">    </span><span class="foreground-12">print</span><span class="foreground-15"> </span><span class="foreground-13">STDERR</span><span class="foreground-15"> </span><span class="foreground-10">&quot;&gt;&gt; Dancer </span><span class="foreground-13">$</span><span class="foreground-3">Dancer::</span><span class="foreground-13">VERSION</span><span class="foreground-10"> server </span><span class="foreground-13">$pid</span><span class="foreground-10"> listening &quot;</span><span class="foreground-15"> .         <span class="background-0">
</span></span><span class="foreground-8"> 25 </span><span class="foreground-15">                 </span><span class="foreground-10">&quot;on http://</span><span class="foreground-13">$ipaddr</span><span class="foreground-10">:</span><span class="foreground-13">$port</span><span class="foreground-10">\n&quot;</span><span class="foreground-15">;       </span>                           <span class="background-0"><span class="foreground-15">
</span></span><span class="foreground-8"> 26 </span><span class="foreground-15">                                                                               <span class="background-0">
</span></span><span class="foreground-8"> 27 </span><span class="foreground-15">    </span><span class="foreground-7"># all loaded plugins</span><span class="foreground-15">                                                       <span class="background-0"> </span>
</span><span class="foreground-8"> 28 </span><span class="foreground-15">    </span><span class="foreground-12">foreach</span><span class="foreground-15"> </span><span class="foreground-12">my</span><span class="foreground-15"> </span><span class="foreground-13">$module</span><span class="foreground-15"> ( </span><span class="foreground-12">grep {</span><span class="foreground-15"> </span><span class="foreground-13">$_</span><span class="foreground-15"> =~ </span><span class="foreground-12">m{</span><span class="foreground-10">^Dancer/Plugin/</span><span class="foreground-12">}</span><span class="foreground-15"> </span><span class="foreground-12">}</span><span class="foreground-15"> </span><span class="foreground-12">keys</span><span class="foreground-15"> </span><span class="foreground-13">%INC</span><span class="foreground-15"> ) {       <span class="background-0"> </span>
</span><span class="foreground-8"> 29 </span><span class="foreground-15">        </span><span class="foreground-13">$module</span><span class="foreground-15"> =~ </span><span class="foreground-12">s{</span><span class="foreground-10">/</span><span class="foreground-12">}{</span><span class="foreground-10">::</span><span class="foreground-12">}g</span><span class="foreground-15">;  </span><span class="foreground-7"># change / to ::</span><span class="foreground-15">                                <span class="background-0">
</span></span><span class="foreground-8">~
~
~
</span><span class="background-0"><span class="foreground-15">perl.pl                                                                               1,1            All
</span></span><span class="foreground-15">:VimFilerExplorer
